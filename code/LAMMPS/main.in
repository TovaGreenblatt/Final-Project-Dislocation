# Variable definitions
variable atom_file string atoms.fcc.edge.pad # The configuration was generated by create_one_dislocation.py.
dimension 3
boundary p p p
units metal
atom_style atomic
read_data ${atom_file}

# Define the potential.
pair_style   eam/alloy/opt
pair_coeff   * * Cu_mishin1.eam.alloy Cu
# Define the timestep as half a fs, like in Ashkenazy03.
timestep 0.0005

# Set up the thermodynamic quantity reports and atom file dumps.
compute pot_energy all pe/atom
compute stress all stress/atom NULL
thermo 1 # Thermodynamic report every 1/10 of a ps.
thermo_style custom step temp press etotal vol pxx pyy pzz pxy pxz pyz
dump 1 all custom 2000 dump.minimize.* id x y z c_pot_energy # Dump every 1 ps.
dump_modify 1 pad 6 # Number of characters appearing in timestep.

# Give the atoms initial velocities so that the temperature begins at the value we want.
velocity all create 0 2
# Bring the system to the desired stress for 10 ps.
fix 1 all npt temp 0 0 0.02 x 0 0 0.270 y 0 0 0.270 z 0 0 0.270 yz 0 0 0.270 xz 0 0 0.270 xy 0 3000 0.270
run 10
# unfix 1
# Let the system run at the desired stress for 100 ps.
# fix 1 all npt temp 300 300 0.02 x 0 0 0.270 y 0 0 0.270 z 0 0 0.270 yz 0 0 0.270 xz 0 0 0.270 xy 3000 3000 0.270
# run 200000